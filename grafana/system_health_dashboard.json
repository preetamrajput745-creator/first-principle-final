{
  "uid": "system-health",
  "title": "System Health Panel",
  "timezone": "browser",
  "schemaVersion": 30,
  "version": 1,
  "panels": [
    {
      "type": "stat",
      "title": "Heartbeat Status",
      "targets": [
        {
          "expr": "count(heartbeat_timestamp > (time()-30))"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "steps": [
              {
                "value": null,
                "color": "red"
              },
              {
                "value": 1,
                "color": "green"
              }
            ]
          }
        }
      }
    },
    {
      "type": "timeseries",
      "title": "CPU Usage",
      "targets": [
        {
          "expr": "process_cpu_seconds_total",
          "legendFormat": "{{service}}"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Memory Usage",
      "targets": [
        {
          "expr": "process_resident_memory_bytes",
          "legendFormat": "{{service}}"
        }
      ]
    }
  ]
}