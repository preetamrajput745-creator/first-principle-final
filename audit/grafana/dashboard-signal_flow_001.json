[
    {
        "id": null,
        "title": "Signal Flow & Analysis Panel",
        "timezone": "browser",
        "panels": [
            {
                "title": "Signals Per Hour (Per Symbol)",
                "type": "timeseries",
                "targets": [
                    {
                        "expr": "sum(increase(signals_total[1h])) by (symbol)",
                        "legendFormat": "{{symbol}}"
                    }
                ]
            },
            {
                "title": "Average Score (1h Rolling)",
                "type": "stat",
                "targets": [
                    {
                        "expr": "avg_over_time(signal_score_sum[1h]) / avg_over_time(signal_score_count[1h])",
                        "legendFormat": "{{symbol}}"
                    } 
           # Note: Depending on histogram implementation, typically: rate(sum)/rate(count). 
           # Using approximated average from histogram sum/count if available.
                ]
            },
            {
                "title": "Score Distribution (Real-time)",
                "type": "heatmap",
                "targets": [
                    {
                        "expr": "sum(rate(signal_score_bucket[5m])) by (le, symbol)"
                    }
                ]
            },
            {
                "title": "Recent Signals Table",
                "type": "table",
                "targets": [
                    {
                        "expr": "recent_signals_info"
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "excludeByName": {}
                        }
                    }
                ]
            }
        ],
        "refresh": "5s"
    }
]